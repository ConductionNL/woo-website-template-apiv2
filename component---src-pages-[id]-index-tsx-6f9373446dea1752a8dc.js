"use strict";(self.webpackChunkproduct_website_template=self.webpackChunkproduct_website_template||[]).push([[796,945],{901:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});a(6910);var l=a(5458),n=a(2193),s=a.n(n),i=a(5808),r=a.n(i),c=a(6540),d="WOOItemDetailTemplate-module--tableRow--d28f2",o=a(255),u=a(7640),h=a(6870),m=a(2389),g=a(4810),v=a(6784),b=a(6188),p=a(5942),f=a(9878);const j=e=>{if(!e)return;const t=e.lastIndexOf("/");return e.substring(t+1)};var x=a(3306),O=a(4791),N=a(8154),I=a(3516),A=a(4848);const S=e=>{var t,a,n,i,S,k;let{wooItemId:w}=e;const{t:y,i18n:C}=(0,m.Bd)(),D=new p.QueryClient,P=(0,f.N)(D).getOne(w),{pagination:T,setPagination:W}=(0,I.b)(),[_,B]=c.useState(T.currentPage),L=(0,f.N)(D).getAttachmentsWithLabels(w),U=(0,f.N)(D).getAttachmentsNoLabels(w,10,_),E=(e,t)=>e.title.localeCompare(t.title,C.language,{numeric:!0}),F=e=>{switch(r()(e)){case"Informatieverzoek":return y("Information request");case"Convenant":return y("Convenant");case"Besluit":return y("Decision");case"Inventarisatielijst":return y("Inventory list");default:return y(r()(e))}},H=e=>{var t,a;const l=e.replace(/_/g," "),n=r()(l);switch(n){case"Bevindingen":return y("Findings");case"Conclusies":return y("Conclusions");case"Functiebenaming":return y("Job title");case"Gedraging":return y("Behavior");case"Onderdeel taak":return y("Part of task");case"Oordeel":return y("Judgement");case"Opdrachtgever":return y("Client");case"Organisatieonderdeel":return y("Organizational unit");default:return y(null!==(t=null===(a=P.data["@self"].schema.properties[e])||void 0===a?void 0:a.title)&&void 0!==t?t:n)}};const z=c.useMemo(()=>{var e;if(!L.isSuccess||null===(e=L.data)||void 0===e||!e.results)return[];const t=L.data.results;let a=[],n=[],s=[];t.forEach(e=>{var t;(null===(t=e.labels)||void 0===t?void 0:t.length)>1?(a.push(e),s.push.apply(s,(0,l.A)(e.labels))):(n.push(e),s.push(e.labels[0]))});const i=[];a.forEach(e=>{e.labels.forEach((t,a)=>{i.push(Object.assign({},e,{labels:[e.labels[a]]}))})});const r=[].concat(i,n),c=(0,l.A)(new Set(s)),d=["informatieverzoek","convenant","besluit","inventarisatielijst","bijlage"];return c.sort((e,t)=>{const a=e.toLowerCase(),l=t.toLowerCase(),n=d.indexOf(a),s=d.indexOf(l);return-1!==n&&-1!==s?n-s:-1!==n?-1:-1!==s?1:a.localeCompare(l,C.language,{numeric:!0})}).map(e=>({attachments:r.filter(t=>t.labels.includes(e)),label:e}))},[L.data]),G=c.useMemo(()=>{var e;return U.isSuccess&&null!==(e=U.data)&&void 0!==e&&e.results?(0,l.A)(U.data.results).sort(E):[]},[U.data]),J=U.isSuccess&&null!==(t=U.data)&&void 0!==t&&t.pages?U.data.pages:T.currentPage;return c.useEffect(()=>{U.isSuccess&&T.currentPage!==_&&W({currentPage:_})},[U.isSuccess]),(0,A.jsxs)(A.Fragment,{children:[P.isSuccess&&(0,A.jsx)(N.m,{children:(0,A.jsx)("title",{children:"Woo | "+window.sessionStorage.getItem("ORGANISATION_NAME")+" | "+(0,O.n)(P.data.titel)})}),(0,A.jsx)(u.YW,{children:(0,A.jsxs)(u.TK,{className:"WOOItemDetailTemplate-module--container--ccf27",children:[(0,A.jsx)("div",{role:"navigation",children:(0,A.jsxs)(u.N_,{className:"WOOItemDetailTemplate-module--backLink--e33aa",href:"/",onClick:e=>{e.preventDefault(),(0,g.oo)("/")},tabIndex:0,"aria-label":y("Back to homepage"),children:[(0,A.jsx)(v.g,{icon:b.CeG})," ",(0,A.jsx)("span",{children:y("Back to homepage")})]})}),P.isSuccess&&P.data&&(0,A.jsxs)("div",{className:"WOOItemDetailTemplate-module--content--29ced",role:"region","aria-label":y("Details"),children:[(0,A.jsx)(u._,{id:"mainContent",tabIndex:0,"aria-label":y("Title of woo request")+", "+(null!==(a=null!==(n=null!==(i=null!==(S=P.data.title)&&void 0!==S?S:P.data.titel)&&void 0!==i?i:P.data.name)&&void 0!==n?n:P.data.naam)&&void 0!==a?a:P.data.id),children:(0,O.n)((0,O.n)(null!==(k=P.data.titel)&&void 0!==k?k:P.data.title))}),(0,A.jsx)(x.ax,{ariaLabels:{scrollLeftButton:y("Scroll table to the left"),scrollRightButton:y("Scroll table to the right")},children:(0,A.jsx)(u.XI,{className:"WOOItemDetailTemplate-module--table--d7844",children:(0,A.jsxs)(u.BF,{className:"WOOItemDetailTemplate-module--tableBody--9d96b",children:[P.data&&Object.entries((e=>{var t,a,n;const s=["@self","title","titel","name","naam","id","attachments"].concat((0,l.A)(Object.keys(P.data["@self"].schema.properties).filter(e=>{return t=e,!(!1!==P.data["@self"].schema.properties[t].visible);var t}))),i=Object.assign({publicatiedatum:null===(t=e["@self"])||void 0===t?void 0:t.published,categorie:null===(a=e["@self"])||void 0===a||null===(n=a.schema)||void 0===n?void 0:n.title},e);return Object.entries(i).filter(e=>{let[t]=e;return!s.includes(t)}).sort((t,a)=>{var l,n,s,i,r,c,d,o;const u=null===(l=e["@self"])||void 0===l||null===(n=l.schema)||void 0===n||null===(s=n.properties)||void 0===s||null===(i=s[t[0]])||void 0===i?void 0:i.order,h=null===(r=e["@self"])||void 0===r||null===(c=r.schema)||void 0===c||null===(d=c.properties)||void 0===d||null===(o=d[a[0]])||void 0===o?void 0:o.order;return u&&h&&0!==u&&0!==h?u-h:u&&0!==u?-1:h&&0!==h?1:0!==u||h?0!==h||u?0:1:-1}).reduce((e,t)=>{let[a,l]=t;return Object.assign({},e,{[a]:l})},{})})(P.data)).map(e=>{let[t,a]=e;if(a){let e;if(!a||"string"==typeof a&&""===a.trim()||Array.isArray(a)&&0===a.length||"object"==typeof a&&null!==a&&0===Object.keys(a).length)return;if("string"==typeof a){var l;e=function(e){if(!/^\d{4}-\d{2}-\d{2}|^\d{4}\/\d{2}\/\d{2}/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())&&t.toISOString().slice(0,10)===e.slice(0,10)}(a)?null!==(l=(0,h.L)(C.language,a))&&void 0!==l?l:"-":a}else if(Array.isArray(a)){if("themes"===t||"themas"===t)return!s()(a)&&(0,A.jsxs)(u.Hj,{className:d,tabIndex:0,"aria-labelledby":"themesName themesData",children:[(0,A.jsx)(u.nA,{id:"themesName",children:y("Themes")}),(0,A.jsx)(u.nA,{id:"themesData",children:a.map((e,t)=>(0,A.jsx)("span",{children:e.title?e.title+(t!==(null==a?void 0:a.length)-1?", ":""):e},t))})]},t);e=a.map(e=>e.title).join(", ")}else e="object"==typeof a?JSON.stringify(a):String(a);return(0,A.jsxs)(u.Hj,{className:d,tabIndex:0,"aria-label":H(t)+", "+e,children:[(0,A.jsx)(u.nA,{children:H(t)}),(0,A.jsx)(u.nA,{children:e})]},t)}}),L.isSuccess&&z.length>0&&z.map((e,t)=>{var a,l;return(0,A.jsxs)(u.Hj,{className:d,tabIndex:0,"aria-label":1===e.attachments.length?F(e.label)+", "+(null!==(a=e.attachments[0].title)&&void 0!==a?a:j(e.attachments[0].accessUrl)):F(e.label)+", "+y("There are")+" "+e.attachments.length+" "+y("Attachments")+" "+y("With the label")+" "+F(e.label)+", "+y("These are")+" "+e.attachments.map(e=>{var t;return null!==(t=e.title)&&void 0!==t?t:j(e.accessUrl)}).join(", "),children:[(0,A.jsx)(u.nA,{children:F(e.label)}),e.attachments.length>1&&(0,A.jsx)(u.nA,{children:(0,A.jsx)("div",{id:"labelAttachmentsData",children:e.attachments.map((e,t)=>{var a;return(0,A.jsx)("div",{children:(0,A.jsx)(u.N_,{href:e.accessUrl,target:"blank",children:""+(null!==(a=e.title)&&void 0!==a?a:j(e.accessUrl))})},t)})})}),1===e.attachments.length&&(0,A.jsx)(u.nA,{children:(0,A.jsx)(u.N_,{href:e.attachments[0].accessUrl,target:"blank",children:""+(null!==(l=e.attachments[0].title)&&void 0!==l?l:j(e.attachments[0].accessUrl))})})]},t)}),U.isSuccess&&G.length>0&&(0,A.jsxs)(u.Hj,{className:d,tabIndex:0,"aria-labelledby":"attachmentsName attachmentsData",children:[(0,A.jsx)(u.nA,{id:"attachmentsName",children:y("Attachments")}),(0,A.jsxs)(u.nA,{children:[(0,A.jsx)("div",{id:"attachmentsData",children:G.map((e,t)=>{var a,l;return e.title&&(0,A.jsx)("div",{children:(0,A.jsx)(u.N_,{href:0!==(null===(a=e.accessUrl)||void 0===a?void 0:a.length)?e.accessUrl:"#",target:0!==(null===(l=e.accessUrl)||void 0===l?void 0:l.length)?"blank":"",children:e.title})},t)})}),(0,A.jsx)("div",{role:"region","aria-label":y("Pagination"),className:"WOOItemDetailTemplate-module--pagination--a7d7e",children:J>1&&(0,A.jsx)(x.dK,{ariaLabels:{pagination:y("Pagination"),previousPage:y("Previous page"),nextPage:y("Next page"),page:y("Page")},totalPages:J,currentPage:_,setCurrentPage:e=>B(e)})})]})]})]})})})]}),P.isLoading&&(0,A.jsx)(o.A,{height:"200px"})]})})]})};var k=e=>(0,A.jsx)(S,{wooItemId:e.params.id})},3811:function(e,t,a){a.r(t);var l=a(901);t.default=l.default}}]);
//# sourceMappingURL=component---src-pages-[id]-index-tsx-6f9373446dea1752a8dc.js.map