version: "3.4"

services:
  pwa: &pwa
    image: ${CONTAINER_REGISTRY_BASE}/${CONTAINER_PROJECT_NAME}:${APP_BUILD}
    build:
      context: pwa
      args:
        GATSBY_ENV_VARS_SET: ${GATSBY_ENV_VARS_SET}
        GATSBY_API_BASE_URL: ${GATSBY_API_BASE_URL}
        GATSBY_DEV_ENVIRONMENT: ${GATSBY_DEV_ENVIRONMENT}
        GATSBY_NL_DESIGN_THEME_CLASSNAME: ${GATSBY_NL_DESIGN_THEME_CLASSNAME}
        GATSBY_CSP_CONNECT_SRC_FULL: ${GATSBY_CSP_CONNECT_SRC_FULL}
        GATSBY_CSP_CONNECT_SRC_EXTRA: ${GATSBY_CSP_CONNECT_SRC_EXTRA}
        GATSBY_SHOW_THEME_SWITCHER: ${GATSBY_SHOW_THEME_SWITCHER}
        GATSBY_FAVICON_URL: ${GATSBY_FAVICON_URL}
        GATSBY_ORGANISATION_NAME: ${GATSBY_ORGANISATION_NAME}
        GATSBY_JUMBOTRON_IMAGE_URL: ${GATSBY_JUMBOTRON_IMAGE_URL}
        GATSBY_FOOTER_LOGO_URL: ${GATSBY_FOOTER_LOGO_URL}
        GATSBY_FOOTER_LOGO_HREF: ${GATSBY_FOOTER_LOGO_HREF}
        GATSBY_FOOTER_CONTENT: ${GATSBY_FOOTER_CONTENT}
        GATSBY_FOOTER_CONTENT_HEADER: ${GATSBY_FOOTER_CONTENT_HEADER}
        GATSBY_OIDN_NUMBER: ${GATSBY_OIDN_NUMBER}
        GATSBY_SHOW_CATEGORY: ${GATSBY_SHOW_CATEGORY}
        GATSBY_SHOW_ORGANIZATION: ${GATSBY_SHOW_ORGANIZATION}
        GATSBY_ANALYTICS_URL: ${GATSBY_ANALYTICS_URL}
        GATSBY_DATE_FULL_MONTH: ${GATSBY_DATE_FULL_MONTH}
        GATSBY_SECURITY_TXT_INTRO: ${GATSBY_SECURITY_TXT_INTRO}
        GATSBY_SECURITY_TXT_CONTACT: ${GATSBY_SECURITY_TXT_CONTACT}
        GATSBY_SECURITY_TXT_EXPIRES: ${GATSBY_SECURITY_TXT_EXPIRES}
        GATSBY_SECURITY_TXT_ENCRYPTION: ${GATSBY_SECURITY_TXT_ENCRYPTION}
        GATSBY_SECURITY_TXT_ACKNOWLEDGEMENTS: ${GATSBY_SECURITY_TXT_ACKNOWLEDGEMENTS}
        GATSBY_SECURITY_TXT_LANGUAGES: ${GATSBY_SECURITY_TXT_LANGUAGES}
        GATSBY_SECURITY_TXT_CANONICAL: ${GATSBY_SECURITY_TXT_CANONICAL}
        GATSBY_SECURITY_TXT_POLICY: ${GATSBY_SECURITY_TXT_POLICY}
        GATSBY_SECURITY_TXT_HIRING: ${GATSBY_SECURITY_TXT_HIRING}
    ports:
      - "8000:8080"
    environment:
      - UPSTREAM_HOST=${UPSTREAM_HOST}
      - UPSTREAM_BASE=${UPSTREAM_BASE}
volumes:
  db-data: {}
  uc-data: {}
  db-mysql: {}
